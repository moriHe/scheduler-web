<!doctype html><html lang="de"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Plan erstellen</title><link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet"><script type="module" src="create.fa346956.js"></script><script src="https://unpkg.com/jspdf@latest/dist/jspdf.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jspdf-autotable@3.8.3/dist/jspdf.plugin.autotable.min.js"></script><script src="https://cdn.jsdelivr.net/npm/date-fns@4.1.0/cdn.min.js"></script><script src="https://cdn.jsdelivr.net/npm/date-fns@4.1.0/locale/de/cdn.min.js"></script><script src="https://cdn.jsdelivr.net/npm/date-fns@2.30.0/locale/de/index.js"></script><script type="module" src="https://unpkg.com/ionicons@latest/dist/ionicons/ionicons.esm.js"></script><script defer type="module" src="create.4c49440c.js"></script><style>.lighter-red-background{color:#fff;background-color:#ff000080}.calendar{grid-template-columns:repeat(7,1fr);gap:.25rem;margin-top:.5rem;display:grid}.calendar-header{background-color:#f3f4f6;border:1px solid #e5e7eb;padding:.4rem;font-size:.875rem;font-weight:600}.calendar-day{text-align:center;cursor:pointer;border:1px solid #e5e7eb;padding:.6rem;font-size:.875rem}.calendar-day:hover{background-color:#e5e7eb}.weekend,.excluded{color:#9ca3af;cursor:default;background-color:#d1d5db}.weekend:hover,.excluded:hover{background-color:#d1d5db}.calendar-day.not-available:hover{background-color:#f87171}.not-available{color:#fff;background-color:#f87171}@media (width<=768px){.calendar-day{padding:.3rem}}</style><script>!function(){let t="shiftfix_private_pw",o="kita";try{if(localStorage.getItem(t)===o)return;for(;;){let e=window.prompt("Passwort erforderlich");if(null===e)return void window.location.replace("about:blank");if(e===o)return void localStorage.setItem(t,o);alert("Falsches Passwort")}}catch(t){window.location.replace("about:blank")}}();</script></head><body data-storagekey="shiftplan" class="bg-gradient-to-br flex flex-col font-sans from-blue-100 items-center md:p-6 min-h-screen to-purple-100"> <div id="plan-creation-container" class="bg-white flex-1 md:max-w-3xl md:p-10 rounded-xl shadow-lg space-y-8 w-full"> <h1 class="font-semibold md:p-0 p-2 text-3xl text-gray-900">Plan erstellen</h1> <div class="flex items-center justify-center space-x-4"> <label for="month" class="font-medium text-gray-700">Monat:</label> <select id="month" class="border p-2 rounded-md"> <option value="0">Januar</option> <option value="1">Februar</option> <option value="2">März</option> <option value="3">April</option> <option value="4">Mai</option> <option value="5">Juni</option> <option value="6">Juli</option> <option value="7">August</option> <option value="8">September</option> <option value="9">Oktober</option> <option value="10">November</option> <option value="11">Dezember</option> </select> <label for="year" class="font-medium text-gray-700">Jahr:</label> <select id="year" class="border p-2 rounded-md"></select> </div> <div> <div class="flex items-center justify-center space-x-4"> <label class="flex items-center space-x-2"> <input type="radio" name="shifts-per-day" value="2" class="h-4 w-4"> <span class="font-medium text-gray-700 text-sm">2 Schichten pro Tag</span> </label> <label class="flex items-center space-x-2"> <input type="radio" name="shifts-per-day" value="3" class="h-4 w-4" checked> <span class="font-medium text-gray-700 text-sm">3 Schichten pro Tag</span> </label> </div> <h2 class="font-semibold mb-4 md:p-0 p-2 text-gray-900 text-xl">Tage</h2> <div id="weekdays-container" class="flex flex-col justify-center md:flex-row md:p-0 md:space-x-4 md:space-y-0 p-2 space-y-4"> <label class="flex items-center space-x-2"> <input type="checkbox" class="border-gray-300 focus:ring-indigo-500 h-4 rounded w-4 weekday-checkbox" value="Mo" checked> <span class="font-medium text-gray-700 text-sm">Montag</span> </label> <label class="flex items-center space-x-2"> <input type="checkbox" class="border-gray-300 focus:ring-indigo-500 h-4 rounded w-4 weekday-checkbox" value="Di" checked> <span class="font-medium text-gray-700 text-sm">Dienstag</span> </label> <label class="flex items-center space-x-2"> <input type="checkbox" class="border-gray-300 focus:ring-indigo-500 h-4 rounded w-4 weekday-checkbox" value="Mi" checked> <span class="font-medium text-gray-700 text-sm">Mittwoch</span> </label> <label class="flex items-center space-x-2"> <input type="checkbox" class="border-gray-300 focus:ring-indigo-500 h-4 rounded w-4 weekday-checkbox" value="Do" checked> <span class="font-medium text-gray-700 text-sm">Donnerstag</span> </label> <label class="flex items-center space-x-2"> <input type="checkbox" class="border-gray-300 focus:ring-indigo-500 h-4 rounded w-4 weekday-checkbox" value="Fr" checked> <span class="font-medium text-gray-700 text-sm">Freitag</span> </label> <label class="flex items-center space-x-2"> <input type="checkbox" class="border-gray-300 focus:ring-indigo-500 h-4 rounded w-4 weekday-checkbox" value="Sa"> <span class="font-medium text-gray-700 text-sm">Samstag</span> </label> <label class="flex items-center space-x-2"> <input type="checkbox" class="border-gray-300 focus:ring-indigo-500 h-4 rounded w-4 weekday-checkbox" value="So"> <span class="font-medium text-gray-700 text-sm">Sonntag</span> </label> </div> </div> <div> <h2 class="font-semibold mb-4 text-gray-900 text-xl">Sperrtermine Personen</h2> <table class="bg-white border border-gray-300 min-w-full rounded-md"> <thead> <tr> <th class="border-b-2 border-gray-300 p-3 text-left">Person</th> <th class="border-b-2 border-gray-300 p-3 text-left">Kalender</th> </tr> </thead> <tbody id="user-table-body"></tbody> </table> </div> <div class="space-y-4"> <h2 class="font-semibold text-gray-900 text-xl">Allgemein geschlossen (zB Feiertage)</h2> <div id="holidays-calendar" class="calendar"></div> <h2 class="font-semibold text-gray-900 text-xl">Geöffnet, keine Schichten notwendig</h2> <div id="kitaOpenNoEd-calendar" class="calendar"></div> <h2 class="font-semibold text-gray-900 text-xl">Diese Person übernimmt ausgewählte Schichten</h2> <input type="text" id="nameInput" placeholder="Person eingeben" class="bg-transparent border-b border-gray-300 focus:border-blue-500 focus:outline-none"> <div id="team-calendar" class="calendar"></div> </div> <div class="flex justify-center mt-6 space-x-4"> <button id="show-preview-button" class="bg-indigo-600 duration-300 font-medium hover:bg-indigo-700 px-6 py-3 rounded-lg text-white transition-colors">Zeige Vorschau</button> <button id="back-button" class="bg-gray-300 duration-300 font-medium hover:bg-gray-400 px-6 py-3 rounded-lg text-gray-800 transition-colors">Zurück</button> </div> </div> <div id="calendar-preview-container" class="bg-white flex-1 hidden md:max-w-4xl md:overflow-visible md:p-10 overflow-auto rounded-xl shadow-lg space-y-8 w-full"> <div class="flex gap-10 justify-center mb-6 my-20"> <h1 class="font-semibold text-3xl text-gray-900">Vorschau</h1> <button id="preview-button" class="bg-indigo-600 duration-300 flex font-medium hover:bg-indigo-700 items-center px-4 py-2 rounded-lg text-white transition-colors"> <ion-icon name="refresh" class="mr-2"></ion-icon> </button> </div> <div id="calendar-preview-table" class="md:max-w-4xl w-full"> <div id="tableheadersTwoCols" class="bg-gray-200 flex font-semibold hidden py-2 text-gray-800 w-full"> <div class="text-left w-1/12">Tag</div> <div class="text-left w-1/6">Datum</div> <div class="flex-1 text-left"> <input id="twocol-label-1" type="text" value="Schicht 1" class="bg-transparent border-b border-gray-300 focus:border-indigo-500 focus:outline-none w-full"> </div> <div class="flex-1 text-left"> <input id="twocol-label-2" type="text" value="Schicht 2" class="bg-transparent border-b border-gray-300 focus:border-indigo-500 focus:outline-none w-full"> </div> </div> <div id="tableheadersThreeCols" class="bg-gray-200 flex font-semibold hidden py-2 text-gray-800 w-full"> <div class="text-left w-1/12">Tag</div> <div class="text-left w-1/6">Datum</div> <div class="flex-1 text-left"> <input id="threecol-label-1" type="text" value="Schicht 1" class="bg-transparent border-b border-gray-300 focus:border-indigo-500 focus:outline-none w-full"> </div> <div class="flex-1 text-left"> <input id="threecol-label-2" type="text" value="Schicht 2" class="bg-transparent border-b border-gray-300 focus:border-indigo-500 focus:outline-none w-full"> </div> <div class="flex-1 text-left"> <input id="threecol-label-3" type="text" value="Schicht 3" class="bg-transparent border-b border-gray-300 focus:border-indigo-500 focus:outline-none w-full"> </div> </div> </div> <div id="parent-summary" class="bg-white border border-gray-300 fixed hidden md:block p-4 right-4 rounded-lg shadow-lg top-4 w-80"></div> <button id="toggle-summary" class="bg-indigo-600 bottom-4 duration-300 fixed font-medium hover:bg-indigo-700 md:hidden px-4 py-2 right-4 rounded-lg text-white transition-colors"> Verteilung </button> <div class="flex justify-center mt-10 space-x-4"> <div id="error-message" class="bg-red-500 hidden p-4 rounded text-white"></div> <button id="generate-pdf-button" class="bg-indigo-600 duration-300 font-medium hover:bg-indigo-700 px-6 py-3 rounded-lg text-white transition-colors">Erstelle PDF</button> <button id="back-creation-button" class="bg-gray-300 duration-300 font-medium hover:bg-gray-400 px-6 py-3 rounded-lg text-gray-800 transition-colors">Zurück</button> </div> </div>  <div id="customModal" class="bg-black bg-opacity-40 fixed flex hidden inset-0 items-center justify-center z-50">  <div class="bg-white max-w-lg p-8 rounded-2xl shadow-2xl text-center w-full"> <h3 class="font-semibold mb-4 text-gray-900 text-xl">Schichtzuweisung bestätigen</h3> <p id="modalText" class="leading-relaxed mb-6 text-gray-700"> Max Mustermann erhält ausgewählte Schichten und hat zusätzlich einen Sperrtermin-Kalender.<br> Drücken Sie „Nur ausgewählte“, wenn die Person ausschließlich die gewählten Schichten erhalten soll. </p> <div class="flex flex-col gap-4 justify-center sm:flex-row"> <button id="onlySelected" class="bg-indigo-600 duration-300 flex-1 font-medium hover:bg-indigo-700 px-4 py-2 rounded-lg text-white transition-colors"> Ok </button> <button id="cancel" class="bg-gray-300 duration-300 flex-1 font-medium hover:bg-gray-400 px-4 py-2 rounded-lg text-gray-800 transition-colors"> Abbrechen </button> </div> </div> </div> </body></html>